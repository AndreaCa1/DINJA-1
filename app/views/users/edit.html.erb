<div class="edit-user-profile-container">
  <div class="row">
    <div class="col-xs-12 col-md-8 col-md-offset-2">
      <div class="user-profile-tab-list" style="background-image: linear-gradient(-210deg, rgba(0,10,58,0.6) 0%, rgba(0,10,10,0.2) 70%), url('<%= asset_path 'shutterstock.png' %>');">
        <div class="user-profile-tabs-liner"></div>
        <div role="presentation" data-target="food-preferences" class="edit-user-tabs food active">
          <a href="#" class="tooltip-link" data-placement="top" title="Edit food preferences">
            <span class="round-tabs">
              <i class="fa fa-cutlery"></i>
            </span>
          </a>
        </div>
        <div role="presentation" data-target="personal-details" class="edit-user-tabs personal">
          <a href="#" class="tooltip-link" id="personal-details-link" data-placement="top" title="Edit personal details">
            <span class="round-tabs">
              <i class="glyphicon glyphicon-user"></i>
            </span>
          </a>
        </div>
        <div role="presentation" id="user-account" data-target="account-details" class="edit-user-tabs account">
          <a href="#" class="tooltip-link" data-placement="top" title="Edit account settings">
            <span class="round-tabs">
              <i class="fa fa-key"></i>
            </span>
          </a>
        </div>
      </div>
    </div>
  </div>
    <div class="row">
      <div class="col-xs-12 col-md-8 col-md-offset-2">
        <div class="user-profile-content-card">
          <div class= "user-profile-tab-content" id="food-preferences">
            <%= simple_form_for(@user) do |f| %>
              <h3>Edit your food preferences</h3>
   <!--            <% unless current_user.has_user_completed_food_preferences? %>
                <p>Looks like you haven't listed any restrictions. Not a fussy eater!</p>
              <% end %> -->
              <div class="food-checks">
                <%= f.input :no_gluten, as: :boolean %>
                <%= f.input :no_eggs, as: :boolean %>
                <%= f.input :no_dairy, as: :boolean %>
                <%= f.input :vegetarian, as: :boolean %>
                <%= f.input :vegan, as: :boolean %>
              </div>
            <%= f.input :max_calories, label: "Max calories per dish", placeholder: 'E.g. 400' %>
            <%= f.input :max_prep_time, label: "Max prep time (in minutes) per dish", placeholder: 'E.g. 25' %>
            <div class="banished-ingredients-section">
              <div class="banished-ingredients-input">
                <div>
                  <label for="banished_ingredients_autocomplete">Ingredients to avoid in recipes</label>
                </div>
                <input type="text" id="banished_ingredients_autocomplete" class="form-control" value="" placeholder="E.g. onions" />
              </div>
              <div class="banished-ingredients-ul">
                <label for="banished_ingredients_list" class="indredient-list-heading hidden">Ingredients you'll never see</label>
                <ul id="banished_ingredients_list" class="list-inline">
                    <!-- Empty list, will be filled by js -->
                  <% current_user.ingredients.each do |banned_ingredient| %>
                    <li>
                      <%= banned_ingredient.name %>
                      <input type="hidden" name="banned_ingredients[]" value="<%= banned_ingredient.id %>"/>
                      <i class="fa fa-close remove-ingredient"></i>
                    </li>
                  <% end %>
                </ul>
              </div>
            </div>



            <%= f.button :submit, 'Save changes', class: 'user-profile-button btn btn-primary'  %>
          <% end %>
          </div>

          <div class="user-profile-tab-content hidden" id="personal-details">
            <h3>Edit your personal details</h3>
              <%= simple_form_for(@user) do |f| %>
                <%= f.input :first_name, placeholder: 'First name' %>
                <%= f.input :last_name, placeholder: 'Last name' %>
                <%= f.input :address, placeholder: 'Address' %>
                <%= f.button :submit, 'Save changes', class: 'user-profile-button btn btn-primary'  %>
              <% end %>
          </div>

          <div id="account-details" class="user-profile-tab-content hidden">
            <h3>Change your password</h3>
            <%= simple_form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :put }) do |f| %>
              <%= f.error_notification %>

              <%= f.input :email, label: "Email", placeholder: @user.email, disabled: true %>

              <%= f.input :reset_password_token, as: :hidden %>
              <%= f.full_error :reset_password_token %>

              <div class="form-inputs">
                <%= f.input :password, label: "New password", required: true, autofocus: true, hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length) %>
                <%= f.input :password_confirmation, label: "Confirm your new password", required: true %>
              </div>

              <div class="form-actions">
                <%= f.button :submit, "Change my password", class: 'user-profile-button btn btn-primary' %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

